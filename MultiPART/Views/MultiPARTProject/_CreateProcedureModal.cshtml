@using System.Globalization
@using MultiPART
@using MultiPART.Utilities
@model MultiPART.Models.ViewModel.ProcedureViewModel

<div class="modal fade" id="create-@ProcedurePurpose.ProcedureDictionary[Model.ProcedurePurpose]-modal" role="dialog" tabindex="-1">
    <div class="modal-dialog">

        @using (Ajax.BeginForm("CreateProcedureModal", new { },
            new AjaxOptions
            {
                HttpMethod = "Post",
                InsertionMode = InsertionMode.Replace,
                UpdateTargetId = ProcedurePurpose.ProcedureDictionary[Model.ProcedurePurpose] + "List",
                OnSuccess = "dismissClear"
            }, new { id = "add" + @Html.UppercaseFirst(ProcedurePurpose.ProcedureDictionary[Model.ProcedurePurpose]) + "Form", @class = "modalForm" })
            )
        {
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close form-reset " data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>
                    Add @Model.ProcedurePurpose to @Model.ProjectName
                </div>
                <div class="modal-body col-xs-12">
                    <fieldset>
                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary(true)
                        @Html.EditorForModel();
                    </fieldset>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn form-reset  btn-default" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn modalDismiss btn-success" id="addProcedureBtn">Add</button>
                </div>
            </div>
        }
    </div>
</div>